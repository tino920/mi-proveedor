@echo off
cls
echo ========================================
echo ğŸš€ SOLUCION DEFINITIVA - PANTALLA PEDIDOS
echo ========================================
echo.

cd /d "C:\Users\danie\Downloads\tu_proveedor"

echo âœ… Archivo employee_orders_screen.dart actualizado
echo âŒ Archivo orders_screen.dart marcado como obsoleto
echo.

echo ğŸ§¹ Limpiando cache completamente...
flutter clean
if errorlevel 1 (
    echo âŒ Error en flutter clean
    pause
    exit /b 1
)

echo.
echo ğŸ“¦ Reinstalando dependencias...
flutter pub get
if errorlevel 1 (
    echo âŒ Error en flutter pub get
    pause
    exit /b 1
)

echo.
echo ğŸ”¥ Iniciando Flutter con hot restart...
echo.
echo ğŸ“± INSTRUCCIONES IMPORTANTES:
echo 1. Cuando se abra la app, presiona 'R' (mayÃºscula) para hot restart
echo 2. Ve a la pestaÃ±a "Pedidos" (segunda pestaÃ±a)
echo 3. DeberÃ­as ver "Selecciona un Proveedor" con lista de proveedores
echo.
echo ======================================
echo ğŸ¯ RESULTADO ESPERADO:
echo âœ… Header azul "Selecciona un Proveedor"
echo âœ… Lista de proveedores con imÃ¡genes
echo âœ… Al tocar proveedor, navega a crear pedido
echo ======================================
echo.

flutter run --verbose

echo.
echo Â¿La pantalla de pedidos funciona correctamente? (S/N)
set /p respuesta="> "

if /i "%respuesta%"=="S" (
    echo.
    echo ğŸ‰ Â¡PERFECTO! Pantalla de pedidos solucionada
    echo âœ… Tu app MiProveedor estÃ¡ funcionando correctamente
    echo.
) else (
    echo.
    echo ğŸ” Si aÃºn no funciona, verifica:
    echo 1. Que tengas proveedores creados como admin
    echo 2. Que estÃ©s logueado como empleado
    echo 3. Que la consola no muestre errores
    echo.
)

pause
